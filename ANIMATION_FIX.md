# üé¨ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

---

## üêõ **–ü–†–û–ë–õ–ï–ú–´ –ë–´–õ–ò:**

### **1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª–∞—Å—å –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è**

#### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ:
```javascript
// –ë–´–õ–û (–Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ):
onSuccess: () => {
  queryClient.invalidateQueries({ queryKey: queryKeys.tenders.all });
}
```

#### –ü–æ—á–µ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ:
1. `invalidateQueries()` —Ç–æ–ª—å–∫–æ **–ü–û–ú–ï–ß–ê–ï–¢** –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ
2. **–ù–ï –ü–ï–†–ï–ó–ê–ì–†–£–ñ–ê–ï–¢** –∏—Ö –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
3. React Query –∂–¥—ë—Ç —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞ –∏–ª–∏ —Ñ–æ–∫—É—Å–∞ –æ–∫–Ω–∞
4. –ù–æ —É –Ω–∞—Å `refetchOnWindowFocus: false` ‚Üí –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ
5. –ü–æ—ç—Ç–æ–º—É —Ç–µ–Ω–¥–µ—Ä –¥–æ–±–∞–≤–ª—è–ª—Å—è –≤ –ë–î, –Ω–æ **–ù–ï –ü–û–Ø–í–õ–Ø–õ–°–Ø –≤ UI!**

---

### **2. –°—Ç—Ä–∞–Ω–Ω–∞—è "–ø—Ä—ã–≥–∞—é—â–∞—è" –∞–Ω–∏–º–∞—Ü–∏—è**

#### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ:
```javascript
// –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
{filteredTenders.map((tender, index) => (
  <m.div
    key={tender.id}
    initial={{ opacity: 0, y: 20, scale: 0.95 }}
    animate={{ opacity: 1, y: 0, scale: 1 }}
    transition={{ 
      delay: index * 0.03,  // ‚ùå –ü–†–û–ë–õ–ï–ú–ê!
    }}
    layout  // ‚ùå –ò –≠–¢–û –¢–û–ñ–ï!
  >
```

#### –ü–æ—á–µ–º—É –∞–Ω–∏–º–∞—Ü–∏—è –±—ã–ª–∞ —Å—Ç—Ä–∞–Ω–Ω–æ–π:
1. **delay: index * 0.03** - —Å–æ–∑–¥–∞–≤–∞–ª "–≤–æ–ª–Ω—É" –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è **–í–°–ï–•** —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–µ
2. **layout** - –ø—ã—Ç–∞–ª—Å—è –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
3. **scale: 0.95** - –¥–æ–±–∞–≤–ª—è–ª –ª–∏—à–Ω–∏–π "–ø—Ä—ã–∂–æ–∫" –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏
4. –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ç–µ–Ω–¥–µ—Ä–∞:
   - –ù–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø–æ—è–≤–ª—è–ª—Å—è –ü–ï–†–í–´–ú (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ `order('created_at', desc)`)
   - –í–°–ï –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–¥–≤–∏–≥–∞–ª–∏—Å—å –≤–Ω–∏–∑
   - `delay` + `layout` —Å–æ–∑–¥–∞–≤–∞–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç "–ø—Ä—ã–≥–∞—é—â–µ–≥–æ" —Å–ø–∏—Å–∫–∞

---

## ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**

### **1. React Query - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**

#### –ë–´–õ–û:
```javascript
onSuccess: () => {
  queryClient.invalidateQueries({ queryKey: queryKeys.tenders.all });
}
```

#### –°–¢–ê–õ–û:
```javascript
onSuccess: async () => {
  // –ù–ï–ú–ï–î–õ–ï–ù–ù–û –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ (–Ω–µ –∂–¥–µ–º —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞!)
  await queryClient.refetchQueries({ queryKey: queryKeys.tenders.all });
  await queryClient.refetchQueries({ queryKey: queryKeys.dashboard });
}
```

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–ª—è:
- ‚úÖ `useCreateTender()`
- ‚úÖ `useUpdateTender()`
- ‚úÖ `useDeleteTender()`
- ‚úÖ `useCreateSupplier()`
- ‚úÖ `useUpdateSupplier()`
- ‚úÖ `useDeleteSupplier()`

---

### **2. –ê–Ω–∏–º–∞—Ü–∏—è - –ø–ª–∞–≤–Ω–æ –∏ –±—ã—Å—Ç—Ä–æ**

#### –ë–´–õ–û:
```javascript
<m.div
  initial={{ opacity: 0, y: 20, scale: 0.95 }}
  animate={{ opacity: 1, y: 0, scale: 1 }}
  transition={{ 
    type: "spring",
    stiffness: 260,
    damping: 20,
    delay: index * 0.03  // ‚ùå –£–±—Ä–∞–ª–∏!
  }}
  layout  // ‚ùå –£–±—Ä–∞–ª–∏!
>
```

#### –°–¢–ê–õ–û:
```javascript
<m.div
  initial={{ opacity: 0, y: 20 }}
  animate={{ opacity: 1, y: 0 }}
  exit={{ opacity: 0, y: -20, transition: { duration: 0.2 } }}
  transition={{ 
    type: "spring",
    stiffness: 300,  // –ë—ã—Å—Ç—Ä–µ–µ
    damping: 25,     // –ú–µ–Ω—å—à–µ "–∫–∞—á–∞–Ω–∏—è"
  }}
>
```

#### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:
- ‚ùå –£–±—Ä–∞–Ω `delay: index * 0.03` - –Ω–µ—Ç "–≤–æ–ª–Ω—ã"
- ‚ùå –£–±—Ä–∞–Ω `scale: 0.95/1` - –Ω–µ—Ç "–ø—Ä—ã–∂–∫–∞"
- ‚ùå –£–±—Ä–∞–Ω `layout` - –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –∞–Ω–∏–º–∞—Ü–∏–π
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω `stiffness: 300` - –±—ã—Å—Ç—Ä–µ–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω `damping: 25` - –º–µ–Ω—å—à–µ "–∫–∞—á–∞–µ—Ç—Å—è"
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `exit` - –ø–ª–∞–≤–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

#### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤:
- ‚úÖ `app/(dashboard)/tenders/page.tsx` - –æ–±–µ –≤–µ—Ä—Å–∏–∏ –∫–∞—Ä—Ç–æ—á–µ–∫
- ‚úÖ `app/(dashboard)/suppliers/page.tsx` - —Ç–∞–±–ª–∏—Ü–∞

---

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**

### **–î–û (–ø—Ä–æ–±–ª–µ–º—ã):**
```
1. –î–æ–±–∞–≤–∏–ª —Ç–µ–Ω–¥–µ—Ä
2. –î–∏–∞–ª–æ–≥ –∑–∞–∫—Ä—ã–ª—Å—è
3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ù–ï –æ–±–Ω–æ–≤–∏–ª–∞—Å—å ‚ùå
4. –¢–µ–Ω–¥–µ—Ä –≤ –ë–î –µ—Å—Ç—å, –Ω–æ –Ω–µ –≤–∏–¥–µ–Ω
5. F5 ‚Üí —Ç–µ–Ω–¥–µ—Ä –ø–æ—è–≤–∏–ª—Å—è, –Ω–æ —Å "–ø—Ä—ã–≥–∞—é—â–µ–π" –∞–Ω–∏–º–∞—Ü–∏–µ–π
```

### **–ü–û–°–õ–ï (—Ä–∞–±–æ—Ç–∞–µ—Ç):**
```
1. –î–æ–±–∞–≤–∏–ª —Ç–µ–Ω–¥–µ—Ä
2. –î–∏–∞–ª–æ–≥ –∑–∞–∫—Ä—ã–ª—Å—è
3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ú–ì–ù–û–í–ï–ù–ù–û –æ–±–Ω–æ–≤–∏–ª–∞—Å—å ‚úÖ
4. –¢–µ–Ω–¥–µ—Ä –ø–ª–∞–≤–Ω–æ –ø–æ—è–≤–∏–ª—Å—è —Å–≤–µ—Ä—Ö—É ‚úÖ
5. –û—Å—Ç–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ "–ø—Ä—ã–≥–∞—é—Ç" ‚úÖ
```

---

## üìä **–°–†–ê–í–ù–ï–ù–ò–ï:**

| –ê—Å–ø–µ–∫—Ç | –ë–´–õ–û | –°–¢–ê–õ–û |
|--------|------|-------|
| **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è** | –ù–µ—Ç (–Ω—É–∂–µ–Ω F5) | ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ |
| **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è** | –ù–µ—Ç (–Ω—É–∂–µ–Ω F5) | ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ |
| **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** | –ù–µ—Ç (–Ω—É–∂–µ–Ω F5) | ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ |
| **–ê–Ω–∏–º–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤** | "–ü—Ä—ã–≥–∞–µ—Ç" | ‚úÖ –ü–ª–∞–≤–Ω–æ |
| **–ê–Ω–∏–º–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤** | "–ü—Ä—ã–≥–∞—é—Ç" | ‚úÖ –ù–µ –¥–≤–∏–≥–∞—é—Ç—Å—è |
| **–°–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏** | –ú–µ–¥–ª–µ–Ω–Ω–æ | ‚úÖ –ë—ã—Å—Ç—Ä–æ |
| **–≠—Ñ—Ñ–µ–∫—Ç "–∫–∞—á–∞–Ω–∏—è"** | –ï—Å—Ç—å | ‚úÖ –ù–µ—Ç |

---

## üß™ **–ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨:**

### **–¢–µ—Å—Ç 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–Ω–¥–µ—Ä–∞**
1. –ê–¥–º–∏–Ω–∫–∞ ‚Üí –¢–µ–Ω–¥–µ—Ä—ã
2. –ù–∞–∂–∞—Ç—å "–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–Ω–¥–µ—Ä"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
5. ‚úÖ –¢–µ–Ω–¥–µ—Ä –ú–ì–ù–û–í–ï–ù–ù–û –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–≤–µ—Ä—Ö—É
6. ‚úÖ –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
7. ‚úÖ –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–µ–Ω–¥–µ—Ä—ã –Ω–µ "–ø—Ä—ã–≥–∞—é—Ç"

### **–¢–µ—Å—Ç 2: –£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ–Ω–¥–µ—Ä–∞**
1. –ù–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É —É–¥–∞–ª–µ–Ω–∏—è
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
3. ‚úÖ –¢–µ–Ω–¥–µ—Ä –ú–ì–ù–û–í–ï–ù–ù–û –∏—Å—á–µ–∑–∞–µ—Ç
4. ‚úÖ –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
5. ‚úÖ –û—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–µ "–ø—Ä—ã–≥–∞—é—Ç"

### **–¢–µ—Å—Ç 3: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞**
1. –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Ç–µ–Ω–¥–µ—Ä–∞
2. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –ú–ì–ù–û–í–ï–ù–ù–û –≤–∏–¥–Ω—ã
3. ‚úÖ –ï—Å–ª–∏ —Ç–µ–Ω–¥–µ—Ä –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª—Å—è –≤ –¥—Ä—É–≥–æ–π —Ç–∞–± - –∏—Å—á–µ–∑ –ø–ª–∞–≤–Ω–æ

### **–¢–µ—Å—Ç 4: –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏**
1. –ê–¥–º–∏–Ω–∫–∞ ‚Üí –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏
2. –î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
3. ‚úÖ –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ú–ì–ù–û–í–ï–ù–ù–û
4. ‚úÖ –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è

---

## üîß **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò:**

### **invalidateQueries vs refetchQueries:**

```javascript
// invalidateQueries() - –ø–æ–º–µ—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ
// –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤—è—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º:
// - —Ä–µ–Ω–¥–µ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
// - —Ñ–æ–∫—É—Å–µ –æ–∫–Ω–∞ (–µ—Å–ª–∏ refetchOnWindowFocus: true)
// - –∏—Å—Ç–µ—á–µ–Ω–∏–∏ staleTime
queryClient.invalidateQueries({ queryKey: ['tenders'] });

// refetchQueries() - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
// –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤—è—Ç—Å—è –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å –Ω–∏—á–µ–≥–æ
await queryClient.refetchQueries({ queryKey: ['tenders'] });
```

### **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã spring –∞–Ω–∏–º–∞—Ü–∏–∏:**

```javascript
// stiffness - –∂—ë—Å—Ç–∫–æ—Å—Ç—å –ø—Ä—É–∂–∏–Ω—ã (—á–µ–º –±–æ–ª—å—à–µ - —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ)
// 260 - –º–µ–¥–ª–µ–Ω–Ω–∞—è, –º—è–≥–∫–∞—è
// 300 - –±—ã—Å—Ç—Ä–∞—è, —É–ø—Ä—É–≥–∞—è

// damping - –∑–∞—Ç—É—Ö–∞–Ω–∏–µ (—á–µ–º –±–æ–ª—å—à–µ - —Ç–µ–º –º–µ–Ω—å—à–µ "–∫–∞—á–∞–µ—Ç—Å—è")
// 20 - –º–Ω–æ–≥–æ –∫–æ–ª–µ–±–∞–Ω–∏–π
// 25 - –º–µ–Ω—å—à–µ –∫–æ–ª–µ–±–∞–Ω–∏–π
```

---

## üìù **–ó–ê–ú–ï–¢–ö–ò:**

1. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `delay: index * 0.03`** –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ —Å CRUD –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
   - Delay —É–º–µ—Å—Ç–µ–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ü–ï–†–í–û–ô –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –î–ª—è —Å–ø–∏—Å–∫–æ–≤ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `AnimatePresence` –±–µ–∑ delay

2. **`layout` –∞–Ω–∏–º–∞—Ü–∏—è —Ç—è–∂—ë–ª–∞—è**
   - –¢—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ—Å—á—ë—Ç–∞ –ø–æ–∑–∏—Ü–∏–π –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –ö–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å `initial/animate`
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –î–ï–ô–°–¢–í–ò–¢–ï–õ–¨–ù–û –Ω—É–∂–Ω–∞

3. **`refetchQueries` vs `invalidateQueries`**
   - –î–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ UI –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ‚Üí `refetchQueries`
   - –î–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π ‚Üí `invalidateQueries`

4. **Spring –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**
   - UI —ç–ª–µ–º–µ–Ω—Ç—ã: `stiffness: 300, damping: 25`
   - –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞: `stiffness: 260, damping: 20`
   - –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã: `stiffness: 200, damping: 30`

---

**–í–°–Å –†–ê–ë–û–¢–ê–ï–¢ –ò–î–ï–ê–õ–¨–ù–û!** ‚úÖ
