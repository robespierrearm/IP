<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ Bookmarklet - –¢–µ—Å—Ç–æ–≤–∞—è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            color: #667eea;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }
        .step {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .step h3 {
            margin-top: 0;
            color: #667eea;
        }
        .bookmarklet {
            background: #1a1a1a;
            color: #0f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            margin: 15px 0;
        }
        .button {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            margin: 10px 5px;
            cursor: move;
            transition: transform 0.2s;
            font-size: 16px;
        }
        .button:hover {
            transform: scale(1.05);
        }
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }
        code {
            background: #e9ecef;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Monaco', 'Courier New', monospace;
        }
        .test-area {
            background: #f0f0f0;
            padding: 30px;
            border-radius: 12px;
            margin: 30px 0;
        }
        .test-tender {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ –¢–ï–°–¢–û–í–´–ô BOOKMARKLET</h1>
        <p class="subtitle">–ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–µ–Ω–¥–µ—Ä–∞</p>

        <div class="success">
            <strong>‚úÖ –≠–¢–û –ë–ï–ó–û–ü–ê–°–ù–û:</strong> Bookmarklet —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –≤–∞—à–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞. –ù–∏–∫—É–¥–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∞—à–∏ –ø–∞—Ä–æ–ª–∏ –∏–ª–∏ –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
        </div>

        <div class="step">
            <h3>üìã –®–∞–≥ 1: –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤ –∑–∞–∫–ª–∞–¥–∫–∏</h3>
            <p>–ü—Ä–æ—Å—Ç–æ –∑–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –µ—ë –Ω–∞ –ø–∞–Ω–µ–ª—å –∑–∞–∫–ª–∞–¥–æ–∫ –≤–∞—à–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞:</p>
            <div style="text-align: center; margin: 30px 0;">
                <a href="javascript:(function(){(async()=>{const loading=document.createElement('div');loading.style.cssText='position:fixed;top:20px;right:20px;background:linear-gradient(135deg,rgb(102,126,234),rgb(118,75,162));color:white;padding:20px 30px;border-radius:50px;font-family:system-ui;font-size:16px;font-weight:bold;box-shadow:0 10px 30px rgba(0,0,0,0.3);z-index:999999';loading.innerHTML='ü§ñ –ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç...';document.body.appendChild(loading);try{let html=document.documentElement.outerHTML;if(html.length>500000){html=html.substring(0,500000);loading.innerHTML='‚ö†Ô∏è –ë–æ–ª—å—à–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –æ–±—Ä–µ–∑–∞—é...';}const res=await fetch('http://localhost:3000/api/bookmarklet-parse',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({html:html,url:window.location.href})});if(!res.ok){const txt=await res.text();document.body.removeChild(loading);alert('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ ('+res.status+'):\n\n'+txt);return;}const result=await res.json();document.body.removeChild(loading);if(!result.success){alert('‚ùå –û—à–∏–±–∫–∞: '+(result.error||'–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));return;}const d=result.data;const msg=`üìã –î–ê–ù–ù–´–ï –¢–ï–ù–î–ï–†–ê:\n\n‚úÖ ${d.name}\n\nüìù –ù–æ–º–µ—Ä: ${d.purchase_number||'‚Äî'}\nüìç –†–µ–≥–∏–æ–Ω: ${d.region||'‚Äî'}\nüìÖ –ü—É–±–ª–∏–∫–∞—Ü–∏—è: ${d.publication_date||'‚Äî'}\n‚è∞ –î–µ–¥–ª–∞–π–Ω: ${d.submission_deadline||'‚Äî'}\nüí∞ –¶–µ–Ω–∞: ${d.start_price?new Intl.NumberFormat('ru-RU',{style:'currency',currency:'RUB'}).format(d.start_price):'‚Äî'}`;if(confirm(msg+'\n\n‚û°Ô∏è –û—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É –≤ CRM?')){localStorage.setItem('parsedTender',JSON.stringify(d));window.open('http://localhost:3000/tenders?action=add-from-parser','_blank');}}catch(err){if(document.body.contains(loading))document.body.removeChild(loading);alert('‚ùå –û—à–∏–±–∫–∞:\n\n'+err.message+'\n\n–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:\n‚úì –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω?\n‚úì –û—Ç–∫—Ä—ã—Ç–æ —Å localhost?');console.error('Bookmarklet error:',err);}})();})();" class="button">
                    üìã‚ÜíCRM (—Å –ò–ò)
                </a>
            </div>
            <p style="color: #666; font-size: 14px; text-align: center;">
                ‚¨ÜÔ∏è –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —ç—Ç—É –∫–Ω–æ–ø–∫—É –Ω–∞ –ø–∞–Ω–µ–ª—å –∑–∞–∫–ª–∞–¥–æ–∫
            </p>
        </div>

        <div class="step">
            <h3>üß™ –®–∞–≥ 2: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –Ω–∏–∂–µ</h3>
            <p>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—É—é –∑–∞–∫–ª–∞–¥–∫—É –ø—Ä—è–º–æ –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:</p>
            
            <div class="test-area">
                <div class="test-tender">
                    <h1>–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –¥–µ—Ç—Å–∫–æ–≥–æ —Å–∞–¥–∞ –Ω–∞ 120 –º–µ—Å—Ç</h1>
                    <p><strong>–ù–æ–º–µ—Ä –∏–∑–≤–µ—â–µ–Ω–∏—è:</strong> 03731000054230001234567890</p>
                    <p><strong>–†–µ–≥–∏–æ–Ω:</strong> –≥. –ú–æ—Å–∫–≤–∞</p>
                    <p><strong>–ù–∞—á–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞:</strong> 25 000 000 —Ä—É–±</p>
                    <p><strong>–ó–∞–∫–∞–∑—á–∏–∫:</strong> –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è</p>
                </div>
            </div>
        </div>

        <div class="step">
            <h3>üöÄ –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö</h3>
            <p>–¢–µ–ø–µ—Ä—å –æ—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π —Ç–µ–Ω–¥–µ—Ä –∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—É—é –∑–∞–∫–ª–∞–¥–∫—É!</p>
            <p><strong>–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞:</strong></p>
            <ul>
                <li>‚úÖ –°–±–µ—Ä–±–∞–Ω–∫-–ê–°–¢ (sberbank-ast.ru)</li>
                <li>‚úÖ –ì–æ—Å–∑–∞–∫—É–ø–∫–∏ (zakupki.gov.ru)</li>
                <li>‚úÖ –ï–¢–° (ets.ru)</li>
                <li>‚úÖ –õ—é–±—ã—Ö –¥—Ä—É–≥–∏—Ö —Å–∞–π—Ç–∞—Ö —Å —Ç–µ–Ω–¥–µ—Ä–∞–º–∏</li>
            </ul>
        </div>

        <div class="warning">
            <strong>üí° –°–æ–≤–µ—Ç:</strong> –ï—Å–ª–∏ bookmarklet –Ω–µ –Ω–∞—à—ë–ª –∫–∞–∫–∏–µ-—Ç–æ –¥–∞–Ω–Ω—ã–µ, —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! –†–∞–∑–Ω—ã–µ —Å–∞–π—Ç—ã –ø–æ-—Ä–∞–∑–Ω–æ–º—É –æ—Ñ–æ—Ä–º–ª—è—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –ì–ª–∞–≤–Ω–æ–µ - –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–Ω–¥–µ—Ä–∞.
        </div>

        <div class="step">
            <h3>üóëÔ∏è –ö–∞–∫ —É–¥–∞–ª–∏—Ç—å</h3>
            <p>–ï—Å–ª–∏ –Ω–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å - –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç–µ –∑–∞–∫–ª–∞–¥–∫—É –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ (–∫–∞–∫ –æ–±—ã—á–Ω—É—é –∑–∞–∫–ª–∞–¥–∫—É).</p>
        </div>

        <div style="margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 8px; text-align: center;">
            <p style="color: #666; margin: 0;">
                –≠—Ç–æ –¢–ï–°–¢–û–í–ê–Ø –≤–µ—Ä—Å–∏—è. –î–∞–Ω–Ω—ã–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ –∫–∞–∫ JSON.<br>
                –í –±—É–¥—É—â–µ–º –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –≤ CRM.
            </p>
        </div>
    </div>
</body>
</html>
